<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é›™æŒ‡é‡æ–¹æ³•æ¯”è¼ƒ</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      max-width: 1000px;
      margin: 30px auto;
      padding: 20px;
      background: #f8f9fa;
    }
    h1 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
    }
    .method {
      background: white;
      padding: 25px;
      margin: 20px 0;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .method-title {
      font-size: 24px;
      font-weight: bold;
      color: #34495e;
      margin-bottom: 15px;
    }
    .status {
      display: inline-block;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
      margin-left: 10px;
    }
    .status.wrong {
      background: #ffebee;
      color: #c62828;
    }
    .status.correct {
      background: #e8f5e9;
      color: #2e7d32;
    }
    .code-block {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.6;
    }
    .problem {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
    }
    .solution {
      background: #d1ecf1;
      border-left: 4px solid #17a2b8;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
    }
    .example {
      background: #f8f9fa;
      padding: 15px;
      border: 2px solid #dee2e6;
      border-radius: 5px;
      margin: 15px 0;
      font-family: 'Courier New', monospace;
    }
    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    .comparison-table th,
    .comparison-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #dee2e6;
    }
    .comparison-table th {
      background: #34495e;
      color: white;
      font-weight: bold;
    }
    .comparison-table tr:hover {
      background: #f8f9fa;
    }
    .better {
      color: #27ae60;
      font-weight: bold;
    }
    .worse {
      color: #e74c3c;
      font-weight: bold;
    }
    .same {
      color: #95a5a6;
    }
    button {
      background: #3498db;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px 5px;
    }
    button:hover {
      background: #2980b9;
    }
    .demo {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }
    .visual-step {
      margin: 15px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <h1>ğŸ” é›™æŒ‡é‡æ–¹æ³•æ·±åº¦æ¯”è¼ƒ</h1>

  <!-- ä½ æœ€åˆçš„éŒ¯èª¤ç‰ˆæœ¬ -->
  <div class="method">
    <div class="method-title">
      âŒ ä½ æœ€åˆçš„ç‰ˆæœ¬ï¼ˆæœ‰ä¸‰å€‹å•é¡Œï¼‰
      <span class="status wrong">éŒ¯èª¤</span>
    </div>
    
    <div class="code-block">function moveZeroes(nums: number[]): void {
  let left = 0;
  let right = nums.length - 1;
  
  while (left < right) {
    if (nums[right] === 0) {
      right-1;  // âŒ å•é¡Œ1: æ²’æœ‰è³¦å€¼ï¼Œæ‡‰è©²æ˜¯ right--
    } else if (nums[left] === 0) {
      nums[left] = nums[right];
      nums[right] = 0;  // âŒ å•é¡Œ2: é€™æœƒç ´å£é †åº
    } else {
      left++;
    }
  }
  return nums;  // âŒ å•é¡Œ3: è¿”å›å€¼æ‡‰è©²æ˜¯ void
}</div>

    <div class="problem">
      <strong>ğŸ› ä¸‰å€‹éŒ¯èª¤ï¼š</strong>
      <ol>
        <li><code>right-1</code> æ²’æœ‰è³¦å€¼çµ¦ rightï¼Œæ‡‰è©²æ˜¯ <code>right--</code></li>
        <li><strong>ç ´å£é †åºï¼š</strong>å¾å³é‚Šæ‹¿å…ƒç´ æœƒæ‰“äº‚éé›¶å…ƒç´ çš„ç›¸å°é †åº</li>
        <li>è¿”å›é¡å‹æ‡‰è©²æ˜¯ <code>void</code>ï¼Œä¸æ‡‰è©² return</li>
      </ol>
    </div>

    <div class="example">
<strong>ç‚ºä»€éº¼æœƒç ´å£é †åºï¼Ÿ</strong>

è¼¸å…¥: [0, 1, 0, 3, 12]

æ­¥é©Ÿ1: left=0 æ˜¯é›¶, right=4 æ˜¯ 12
      äº¤æ› â†’ [12, 1, 0, 3, 0]  âŒ 12 è·‘åˆ°æœ€å‰é¢äº†ï¼

æ­¥é©Ÿ2: left=1 æ˜¯ 1 (éé›¶), left++
      â†’ [12, 1, 0, 3, 0]

æ­¥é©Ÿ3: left=2 æ˜¯é›¶, right=3 æ˜¯ 3
      äº¤æ› â†’ [12, 1, 3, 0, 0]  âŒ é †åºè®Šæˆ 12, 1, 3

<strong>æœŸæœ›çµæœ:</strong> [1, 3, 12, 0, 0]  (ä¿æŒåŸé †åº 1â†’3â†’12)
<strong>å¯¦éš›çµæœ:</strong> [12, 1, 3, 0, 0]  (é †åºéŒ¯äº‚ 12â†’1â†’3)
    </div>
  </div>

  <!-- ä¿®æ­£å¾Œçš„é›™å‘æŒ‡é‡ï¼ˆä½†ä»æœ‰å•é¡Œï¼‰ -->
  <div class="method">
    <div class="method-title">
      âš ï¸ ä¿®æ­£èªæ³•éŒ¯èª¤å¾Œï¼ˆä½†é‚è¼¯ä»ç„¶éŒ¯èª¤ï¼‰
      <span class="status wrong">ç„¡æ³•é€šé</span>
    </div>
    
    <div class="code-block">function moveZeroes(nums: number[]): void {
  let left = 0;
  let right = nums.length - 1;
  
  while (left < right) {
    if (nums[right] === 0) {
      right--;  // âœ… ä¿®æ­£äº†
    } else if (nums[left] === 0) {
      nums[left] = nums[right];
      nums[right] = 0;
      // âš ï¸ é‚„æ˜¯æœƒç ´å£é †åºï¼
    } else {
      left++;
    }
  }
  // âœ… ç§»é™¤äº† return
}</div>

    <div class="problem">
      <strong>âš ï¸ æ ¹æœ¬å•é¡Œï¼šé›™å‘æŒ‡é‡ä¸é©åˆé€™é¡Œï¼</strong><br>
      å› ç‚ºé¡Œç›®è¦æ±‚<strong>ã€Œä¿æŒéé›¶å…ƒç´ çš„ç›¸å°é †åºã€</strong>ï¼Œè€Œå¾å…©ç«¯äº¤æ›æœƒæ‰“äº‚é †åºã€‚
    </div>
  </div>

  <!-- æ­£ç¢ºçš„é›™å‘æŒ‡é‡æ€è·¯ï¼ˆéœ€è¦é¡å¤–ç©ºé–“ï¼‰ -->
  <div class="method">
    <div class="method-title">
      ğŸ’¡ å¦‚æœå …æŒç”¨é›™å‘æ€è·¯ï¼ˆéœ€è¦ O(n) ç©ºé–“ï¼‰
      <span class="status correct">å¯è¡Œä½†ä¸æœ€å„ª</span>
    </div>
    
    <div class="code-block">function moveZeroesWithExtraSpace(nums: number[]): void {
  const temp: number[] = [];
  let left = 0;
  let right = nums.length - 1;
  
  // æ”¶é›†éé›¶å…ƒç´ ï¼ˆä¿æŒé †åºï¼‰
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] !== 0) {
      temp.push(nums[i]);
    }
  }
  
  // å¡«å›æ•¸çµ„
  for (let i = 0; i < temp.length; i++) {
    nums[i] = temp[i];
  }
  
  // å‰©é¤˜ä½ç½®å¡« 0
  for (let i = temp.length; i < nums.length; i++) {
    nums[i] = 0;
  }
}</div>

    <div class="solution">
      <strong>âœ… å„ªé»ï¼š</strong>é‚è¼¯æ¸…æ™°ï¼Œä¸æœƒå‡ºéŒ¯<br>
      <strong>âŒ ç¼ºé»ï¼š</strong>éœ€è¦ O(n) é¡å¤–ç©ºé–“ï¼Œä¸ç¬¦åˆé¡Œç›®ã€Œin-placeã€è¦æ±‚
    </div>
  </div>

  <!-- æœ€å„ªè§£ -->
  <div class="method">
    <div class="method-title">
      â­ æœ€å„ªè§£ï¼šåŒå‘é›™æŒ‡é‡ï¼ˆLeetCode æ¨™æº–ç­”æ¡ˆï¼‰
      <span class="status correct">æœ€ä½³</span>
    </div>
    
    <div class="code-block">function moveZeroes(nums: number[]): void {
  let left = 0;  // åŒå‘ç§»å‹•
  
  for (let right = 0; right < nums.length; right++) {
    if (nums[right] !== 0) {
      [nums[left], nums[right]] = [nums[right], nums[left]];
      left++;
    }
  }
}</div>

    <div class="solution">
      <strong>âœ… å„ªé»ï¼š</strong>
      <ul>
        <li>æ™‚é–“ O(n)ï¼Œç©ºé–“ O(1)</li>
        <li>ä¿æŒå…ƒç´ é †åº</li>
        <li>ç¨‹å¼ç¢¼ç°¡æ½”</li>
        <li>ç¬¦åˆ in-place è¦æ±‚</li>
      </ul>
    </div>
  </div>

  <!-- æ•ˆèƒ½æ¯”è¼ƒ -->
  <div class="method">
    <h2>ğŸ“Š æ•ˆèƒ½å¯¦æ¸¬æ¯”è¼ƒ</h2>
    
    <button onclick="runBenchmark()">ğŸš€ åŸ·è¡Œæ•ˆèƒ½æ¸¬è©¦</button>
    
    <div id="benchmark-result"></div>
    
    <table class="comparison-table">
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>æ™‚é–“è¤‡é›œåº¦</th>
          <th>ç©ºé–“è¤‡é›œåº¦</th>
          <th>èƒ½å¦é€šé</th>
          <th>å¯¦éš›é€Ÿåº¦</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>âŒ ä½ çš„åŸå§‹ç‰ˆæœ¬</td>
          <td>O(n)</td>
          <td>O(1)</td>
          <td class="worse">âŒ ç ´å£é †åº</td>
          <td>-</td>
        </tr>
        <tr>
          <td>ğŸ’¡ é›™å‘+é¡å¤–ç©ºé–“</td>
          <td>O(n)</td>
          <td class="worse">O(n)</td>
          <td class="better">âœ… å¯è¡Œ</td>
          <td class="worse">æ…¢ 20-30%</td>
        </tr>
        <tr>
          <td>â­ åŒå‘é›™æŒ‡é‡</td>
          <td>O(n)</td>
          <td class="better">O(1)</td>
          <td class="better">âœ… æœ€å„ª</td>
          <td class="better">æœ€å¿«</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- è¦–è¦ºåŒ–æ¯”è¼ƒ -->
  <div class="demo">
    <h2>ğŸ¯ è¦–è¦ºåŒ–å°æ¯”</h2>
    <button onclick="showComparison()">æŸ¥çœ‹å…©ç¨®æ–¹æ³•çš„åŸ·è¡Œéç¨‹</button>
    <div id="comparison-demo"></div>
  </div>

  <script>
    function runBenchmark() {
      const testArray = Array.from({length: 10000}, () => Math.random() > 0.5 ? Math.floor(Math.random() * 100) : 0);
      
      // æ¸¬è©¦1: åŒå‘é›™æŒ‡é‡
      const arr1 = [...testArray];
      const start1 = performance.now();
      moveZeroesOptimal(arr1);
      const time1 = performance.now() - start1;
      
      // æ¸¬è©¦2: é›™å‘+é¡å¤–ç©ºé–“
      const arr2 = [...testArray];
      const start2 = performance.now();
      moveZeroesWithSpace(arr2);
      const time2 = performance.now() - start2;
      
      const result = document.getElementById('benchmark-result');
      result.innerHTML = `
        <div class="visual-step">
          <h3>æ¸¬è©¦çµæœï¼ˆ10,000 å€‹å…ƒç´ ï¼‰</h3>
          <p><strong>â­ åŒå‘é›™æŒ‡é‡ï¼š</strong>${time1.toFixed(3)} ms <span class="better">ï¼ˆæœ€å¿«ï¼‰</span></p>
          <p><strong>ğŸ’¡ é›™å‘+é¡å¤–ç©ºé–“ï¼š</strong>${time2.toFixed(3)} ms <span class="worse">ï¼ˆæ…¢ ${((time2/time1 - 1) * 100).toFixed(1)}%ï¼‰</span></p>
          <p><strong>çµè«–ï¼š</strong>åŒå‘é›™æŒ‡é‡å› ç‚º cache locality æ›´å¥½ï¼Œå¯¦éš›åŸ·è¡Œæ›´å¿«ï¼</p>
        </div>
      `;
    }
    
    function moveZeroesOptimal(nums) {
      let left = 0;
      for (let right = 0; right < nums.length; right++) {
        if (nums[right] !== 0) {
          [nums[left], nums[right]] = [nums[right], nums[left]];
          left++;
        }
      }
    }
    
    function moveZeroesWithSpace(nums) {
      const temp = [];
      for (let i = 0; i < nums.length; i++) {
        if (nums[i] !== 0) temp.push(nums[i]);
      }
      for (let i = 0; i < temp.length; i++) {
        nums[i] = temp[i];
      }
      for (let i = temp.length; i < nums.length; i++) {
        nums[i] = 0;
      }
    }
    
    function showComparison() {
      const demo = document.getElementById('comparison-demo');
      demo.innerHTML = `
        <div class="visual-step">
          <h3>âŒ é›™å‘æŒ‡é‡ç‚ºä»€éº¼æœƒéŒ¯ï¼Ÿ</h3>
          <pre>è¼¸å…¥: [0, 1, 0, 3, 12]
        â†‘           â†‘
       left        right

left=0 æ˜¯é›¶ï¼Œright=12
äº¤æ›å¾Œ: [12, 1, 0, 3, 0]  â† 12 è·‘åˆ°æœ€å‰é¢äº†ï¼

ç¹¼çºŒåŸ·è¡Œ...
æœ€çµ‚: [12, 1, 3, 0, 0]  âŒ é †åºéŒ¯äº‚</pre>
        </div>
        
        <div class="visual-step">
          <h3>âœ… åŒå‘æŒ‡é‡ç‚ºä»€éº¼å°ï¼Ÿ</h3>
          <pre>è¼¸å…¥: [0, 1, 0, 3, 12]
      â†‘
   left=right

ç™¼ç¾éé›¶æ™‚æ‰äº¤æ›ï¼š
[0, 1, 0, 3, 12] â†’ [1, 0, 0, 3, 12]
    â†‘                  â†‘
  ç™¼ç¾1                1ç§»åˆ°ä½ç½®0

[1, 0, 0, 3, 12] â†’ [1, 3, 0, 0, 12]
       â†‘                  â†‘
     ç™¼ç¾3                3ç§»åˆ°ä½ç½®1

æœ€çµ‚: [1, 3, 12, 0, 0]  âœ… ä¿æŒé †åº 1â†’3â†’12</pre>
        </div>
      `;
    }
  </script>
</body>
</html>